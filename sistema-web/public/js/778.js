"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[778],{4778:(e,o,n)=>{n.r(o),n.d(o,{default:()=>U});var r=n(9726),t=n(8492);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return a(e,o);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,r=Array(o);n<o;n++)r[n]=e[n];return r}var l={class:"container py-4"},u={class:"mb-3"},d=["value"],s={class:"mb-3"},c=["value"],p={class:"mb-3"},m={class:"col-md-5"},b=["onUpdate:modelValue"],v=["value"],f={class:"col-md-2"},k=["onUpdate:modelValue"],_={class:"col-md-2"},L=["onUpdate:modelValue"],y={class:"col-md-2"},C=["onUpdate:modelValue"],h={class:"col-md-1"},g=["onClick"],E={class:"mb-3"};const U={__name:"Edit",props:{pedido:Object,productos:Object,meseros:Array,cocineros:Array},setup:function(e){var o,n,a=e,U=a.productos,A=(0,t.mN)({id_mesa:(null===(o=a.pedido.mesa)||void 0===o?void 0:o.id_mesa)||"",id_mesero:(null===(n=a.pedido.mesero)||void 0===n?void 0:n.id_usuario)||"",observaciones:a.pedido.observaciones||"",items:a.pedido.detalles.map(function(e){var o,n;return{id_producto:(null===(o=e.producto)||void 0===o?void 0:o.id_producto)||"",cantidad:e.cantidad,precio_unitario:e.precio_unitario,observaciones:e.observaciones||"",categoria:(null===(n=e.producto)||void 0===n||null===(n=n.categoria)||void 0===n?void 0:n.nombre)||""}})});function V(){A.items.push({id_producto:"",cantidad:1,precio_unitario:0,observaciones:"",categoria:""})}function R(){A.put(route("pedidos.update",a.pedido.id_pedido))}return function(o,n){var t,a,X=(0,r.g2)("inertia-link");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("h2",null,"Editar Pedido #"+(0,r.v_)(e.pedido.id_pedido),1),(0,r.Lk)("form",{onSubmit:(0,r.D$)(R,["prevent"])},[(0,r.Lk)("div",u,[n[3]||(n[3]=(0,r.Lk)("label",{class:"form-label"},"Mesa",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.R1)(A).id_mesa=e}),class:"form-select",disabled:""},[(0,r.Lk)("option",{value:null===(t=e.pedido.mesa)||void 0===t?void 0:t.id_mesa},"Mesa #"+(0,r.v_)(null===(a=e.pedido.mesa)||void 0===a?void 0:a.numero_mesa),9,d)],512),[[r.u1,(0,r.R1)(A).id_mesa]])]),(0,r.Lk)("div",s,[n[5]||(n[5]=(0,r.Lk)("label",{class:"form-label"},"Mesero",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,r.R1)(A).id_mesero=e}),class:"form-select",required:""},[n[4]||(n[4]=(0,r.Lk)("option",{value:""},"Seleccione un mesero",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.meseros,function(e){return(0,r.uX)(),(0,r.CE)("option",{key:e.id_usuario,value:e.id_usuario},(0,r.v_)(e.nombre),9,c)}),128))],512),[[r.u1,(0,r.R1)(A).id_mesero]])]),(0,r.Lk)("div",p,[n[9]||(n[9]=(0,r.Lk)("label",{class:"form-label"},"Productos",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(A).items,function(e,o){return(0,r.uX)(),(0,r.CE)("div",{key:o,class:"row g-2 mb-2 align-items-end"},[(0,r.Lk)("div",m,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":function(o){return e.id_producto=o},class:"form-select",required:""},[n[6]||(n[6]=(0,r.Lk)("option",{value:""},"Producto",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(U),function(e,o){return(0,r.uX)(),(0,r.CE)("option",{key:o,disabled:""},"--- "+(0,r.v_)(o)+" ---",1)}),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,r.R1)(U)[e.categoria]||[],function(e){return(0,r.uX)(),(0,r.CE)("option",{key:e.id_producto,value:e.id_producto},(0,r.v_)(e.nombre),9,v)}),128))],8,b),[[r.u1,e.id_producto]])]),(0,r.Lk)("div",f,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":function(o){return e.cantidad=o},type:"number",min:"1",class:"form-control",placeholder:"Cantidad",required:""},null,8,k),[[r.Jo,e.cantidad,void 0,{number:!0}]])]),(0,r.Lk)("div",_,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":function(o){return e.precio_unitario=o},type:"number",min:"0",step:"0.01",class:"form-control",placeholder:"Precio",required:""},null,8,L),[[r.Jo,e.precio_unitario,void 0,{number:!0}]])]),(0,r.Lk)("div",y,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":function(o){return e.observaciones=o},type:"text",class:"form-control",placeholder:"Obs."},null,8,C),[[r.Jo,e.observaciones]])]),(0,r.Lk)("div",h,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger btn-sm",onClick:function(e){return function(e){A.items.splice(e,1)}(o)}},i(n[7]||(n[7]=[(0,r.Lk)("i",{class:"bi bi-x"},null,-1)])),8,g)])])}),128)),(0,r.Lk)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:V},i(n[8]||(n[8]=[(0,r.Lk)("i",{class:"bi bi-plus"},null,-1),(0,r.eW)(" Agregar producto",-1)])))]),(0,r.Lk)("div",E,[n[10]||(n[10]=(0,r.Lk)("label",{class:"form-label"},"Observaciones",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return(0,r.R1)(A).observaciones=e}),class:"form-control",rows:"2"},null,512),[[r.Jo,(0,r.R1)(A).observaciones]])]),n[12]||(n[12]=(0,r.Lk)("button",{type:"submit",class:"btn btn-success"},"Actualizar Pedido",-1)),(0,r.bF)(X,{href:o.route("pedidos.show",e.pedido.id_pedido),class:"btn btn-secondary ms-2"},{default:(0,r.k6)(function(){return i(n[11]||(n[11]=[(0,r.eW)("Cancelar",-1)]))}),_:1},8,["href"])],32)])}}}}}]);